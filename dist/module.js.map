{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./legend.ts","webpack:///./lib/jquery.flot.pie.js","webpack:///./lib/jquery.flot.time.js","webpack:///./lib/perfect-scrollbar.min.js","webpack:///./module.ts","webpack:///./piechart_ctrl.ts","webpack:///./rendering.ts","webpack:///external \"angular\"","webpack:///external \"app/core/time_series\"","webpack:///external \"app/core/utils/kbn\"","webpack:///external \"app/plugins/sdk\"","webpack:///external \"jquery\"","webpack:///external \"lodash\""],"names":["$","REDRAW_ATTEMPTS","REDRAW_SHRINK","init","plot","canvas","target","options","maxRadius","centerLeft","centerTop","processed","ctx","highlights","hooks","processOptions","push","series","pie","show","grid","label","legend","radius","tilt","bindEvents","eventHolder","getOptions","hoverable","unbind","mousemove","onMouseMove","clickable","click","onClick","processDatapoints","data","datapoints","drawOverlay","octx","draw","newCtx","getCanvas","parent","setData","combine","getData","total","combined","numCombined","color","newdata","i","length","value","isArray","isNaN","parseFloat","isFinite","threshold","extend","angle","Math","PI","percent","canvasWidth","getPlaceholder","width","canvasHeight","height","legendWidth","children","filter","min","offset","top","left","position","match","slices","attempts","clear","drawShadow","drawPie","prepend","setSeries","insertLegend","clearRect","remove","shadowLeft","shadow","shadowTop","edge","alpha","save","translate","globalAlpha","fillStyle","scale","beginPath","arc","fill","restore","startAngle","currentAngle","drawSlice","stroke","lineWidth","drawDonutHole","drawLabels","strokeStyle","lineJoin","abs","moveTo","closePath","drawLabel","slice","index","lf","labelFormatter","text","plf","formatter","halfAngle","x","round","cos","y","sin","html","append","labelTop","labelLeft","css","background","opacity","c","pos","insertBefore","layer","innerRadius","globalCompositeOperation","isPointInPoly","poly","pt","l","j","findNearbySlice","mouseX","mouseY","s","isPointInPath","datapoint","dataIndex","seriesIndex","p1X","p1Y","p2X","p2Y","p3X","p3Y","p4X","p4Y","p5X","p5Y","arrPoly","arrPoint","e","triggerClickHoverEvent","eventname","canvasX","parseInt","pageX","canvasY","pageY","item","autoHighlight","h","auto","unhighlight","highlight","trigger","indexOfHighlight","triggerRedrawOverlay","splice","drawHighlight","plugins","name","version","jQuery","xaxis","timezone","timeformat","twelveHourClock","monthNames","floorInBase","n","base","floor","formatDate","d","fmt","dayNames","strftime","leftPad","pad","r","escape","hours","getHours","isAM","hours12","charAt","getDay","getMonth","getDate","getMinutes","getSeconds","getFullYear","join","makeUtcWrapper","addProxyMethod","sourceObj","sourceMethod","targetObj","targetMethod","apply","arguments","utc","date","undefined","props","p","dateGenerator","ts","opts","Date","timezoneJS","setTimezone","setTime","timeUnitSize","baseSpec","specMonths","concat","specQuarters","each","getAxes","axisName","axis","mode","tickGenerator","ticks","minSize","spec","tickSize","minTickSize","delta","size","unit","magn","pow","log","year","LN10","norm","step","setSeconds","setMinutes","setHours","setMonth","setFullYear","setMilliseconds","minute","hour","day","setDate","month","quarter","carry","v","Number","NaN","prev","getTime","start","end","max","tickFormatter","useQuarters","t","span","suffix","hourCode","rt","exports","module","define","getComputedStyle","style","document","createElement","className","Error","call","parentNode","removeChild","Array","prototype","o","element","classList","m","state","scrolling","contains","clearTimeout","w","add","setTimeout","isAlive","settings","scrollingThreshold","a","window","CustomEvent","createEvent","initCustomEvent","u","reach","dispatchEvent","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","f","minScrollbarLength","maxScrollbarLength","b","railXWidth","isRtl","negativeScrollAdjustment","scrollLeft","containerWidth","contentWidth","isScrollbarXUsingBottom","bottom","scrollbarXBottom","scrollTop","scrollbarXTop","scrollbarXRail","railYHeight","isScrollbarYUsingRight","right","scrollbarYRight","scrollbarYOuterWidth","scrollbarYLeft","scrollbarYRail","scrollbarX","scrollbarXLeft","scrollbarXWidth","railBorderXWidth","scrollbarY","scrollbarYTop","scrollbarYHeight","railBorderYWidth","g","R","stopPropagation","preventDefault","event","ownerDocument","bind","once","Element","matches","webkitMatchesSelector","msMatchesSelector","main","thumb","rail","consuming","focus","active","Y","handlers","X","isEmpty","configurable","addEventListener","removeEventListener","unbindAll","get","Object","keys","every","defineProperties","W","eventElements","eventElement","indexOf","forEach","L","isWebKit","documentElement","supportsTouch","DocumentTouch","supportsIePointer","navigator","msMaxTouchPoints","clientWidth","containerHeight","clientHeight","scrollWidth","contentHeight","scrollHeight","appendChild","suppressScrollX","scrollXMarginOffset","scrollbarXActive","railXMarginWidth","railXRatio","suppressScrollY","scrollYMarginOffset","scrollbarYActive","railYMarginHeight","railYRatio","T","pageYOffset","getBoundingClientRect","pageXOffset","keyboard","wheelPropagation","isDefaultPrevented","defaultPrevented","activeElement","tagName","contentDocument","shadowRoot","which","metaKey","altKey","shiftKey","wheel","deltaX","deltaY","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","querySelector","overflow","overflowX","overflowY","useBothWheelAxes","wheelSpeed","ctrlKey","onwheel","onmousewheel","touch","stop","swipePropagation","prevent","scrollY","targetTouches","pointerType","buttons","MSPOINTER_TYPE_MOUSE","clearInterval","swipeEasing","setInterval","isInitialized","PointerEvent","MSPointerEvent","H","nodeName","direction","isNegativeScroll","setAttribute","display","marginLeft","marginRight","borderTopWidth","borderBottomWidth","marginTop","marginBottom","lastScrollTop","lastScrollLeft","onScroll","update","destroy","removePsClasses","split"],"mappings":"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","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./module.ts\");\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import angular from 'angular';\n// @ts-ignore\nimport $ from 'jquery';\n//import './lib/jquery.flot.pie';\n\n//import 'jquery.flot';\n\nimport './lib/jquery.flot.time';\n\nimport _ from 'lodash';\n\n// @ts-ignore\nimport PerfectScrollbar from './lib/perfect-scrollbar.min';\n\nangular.module('grafana.directives').directive('piechartLegend', (popoverSrv: any, $timeout: any) => {\n  return {\n    link: (scope: any, elem: any) => {\n      const $container = $('<div class=\"piechart-legend__container\"></div>');\n      let firstRender = true;\n      const ctrl = scope.ctrl;\n      const panel = ctrl.panel;\n      let data: any;\n      let seriesList: any;\n      let dataList: any;\n      let i;\n      let legendScrollbar: any;\n\n      scope.$on('$destroy', () => {\n        if (legendScrollbar) {\n          legendScrollbar.destroy();\n        }\n      });\n\n      ctrl.events.on('render', () => {\n        data = ctrl.series;\n        if (data) {\n          for (const i in data) {\n            data[i].color = ctrl.data[i].color;\n          }\n          render();\n        }\n      });\n\n      function getSeriesIndexForElement(el: any) {\n        return el.parents('[data-series-index]').data('series-index');\n      }\n\n      function toggleSeries(e: any) {\n        const el = $(e.currentTarget);\n        // Consider Combine entry as special case (not clickable)\n        if (el && el.text() !== panel.combine.label) {\n          const index = getSeriesIndexForElement(el);\n          const seriesInfo = dataList[index];\n          const scrollPosition = $($container.children('tbody')).scrollTop();\n          ctrl.toggleSeries(seriesInfo);\n          if (typeof scrollPosition !== 'undefined') {\n            $($container.children('tbody')).scrollTop(scrollPosition);\n          }\n        }\n      }\n\n      function sortLegend(e: any) {\n        const el = $(e.currentTarget);\n        const stat = el.data('stat');\n\n        if (stat !== panel.legend.sort) {\n          panel.legend.sortDesc = null;\n        }\n\n        // if already sort ascending, disable sorting\n        if (panel.legend.sortDesc === false) {\n          panel.legend.sort = null;\n          panel.legend.sortDesc = null;\n          ctrl.render();\n          return;\n        }\n\n        panel.legend.sortDesc = !panel.legend.sortDesc;\n        panel.legend.sort = stat;\n        ctrl.render();\n      }\n\n      function getLegendHeaderHtml(statName: any) {\n        let name = statName;\n\n        if (panel.legend.header) {\n          name = panel.legend.header;\n        }\n\n        let html = '<th class=\"pointer\" data-stat=\"' + _.escape(statName) + '\">' + name;\n\n        if (panel.legend.sort === statName) {\n          const cssClass = panel.legend.sortDesc ? 'fa fa-caret-down' : 'fa fa-caret-up';\n          html += ' <span class=\"' + cssClass + '\"></span>';\n        }\n\n        return html + '</th>';\n      }\n\n      function getLegendPercentageHtml(statName: any) {\n        const name = 'percentage';\n        let html = '<th class=\"pointer\" data-stat=\"' + statName + '\">' + name;\n\n        if (panel.legend.sort === statName) {\n          const cssClass = panel.legend.sortDesc ? 'fa fa-caret-down' : 'fa fa-caret-up';\n          html += ' <span class=\"' + cssClass + '\"></span>';\n        }\n\n        return html + '</th>';\n      }\n\n      function openColorSelector(e: any) {\n        // if we clicked inside poup container ignore click\n        if ($(e.target).parents('.popover').length) {\n          return;\n        }\n\n        const el = $(e.currentTarget).find('.fa-minus');\n        const index = getSeriesIndexForElement(el);\n        const series = seriesList[index];\n\n        $timeout(() => {\n          popoverSrv.show({\n            element: el[0],\n            position: 'right center',\n            template:\n              '<series-color-picker-popover series=\"series\" onToggleAxis=\"toggleAxis\" onColorChange=\"colorSelected\">' +\n              '</series-color-picker-popover>',\n            openOn: 'hover',\n            classNames: 'drop-popover drop-popover--transparent',\n            model: {\n              autoClose: true,\n              series: series,\n              toggleAxis: () => {},\n              colorSelected: (color: any) => {\n                ctrl.changeSeriesColor(series, color);\n              },\n            },\n          });\n        });\n      }\n\n      function render() {\n        if (panel.legendType === 'On graph' || !panel.legend.show) {\n          $container.empty();\n          elem.find('.piechart-legend').css('padding-top', 0);\n          return;\n        } else {\n          elem.find('.piechart-legend').css('padding-top', 6);\n        }\n\n        if (firstRender) {\n          elem.append($container);\n          $container.on('click', '.piechart-legend-icon', openColorSelector);\n          $container.on('click', '.piechart-legend-alias', toggleSeries);\n          $container.on('click', 'th', sortLegend);\n          firstRender = false;\n        }\n\n        seriesList = data;\n        dataList = ctrl.data;\n\n        $container.empty();\n\n        const width = panel.legendType === 'Right side' && panel.legend.sideWidth ? panel.legend.sideWidth + 'px' : '';\n        const ieWidth = panel.legendType === 'Right side' && panel.legend.sideWidth ? panel.legend.sideWidth - 1 + 'px' : '';\n        elem.css('min-width', width);\n        elem.css('width', ieWidth);\n\n        const showValues = panel.legend.values || panel.legend.percentage;\n        const tableLayout = (panel.legendType === 'Under graph' || panel.legendType === 'Right side') && showValues;\n\n        $container.toggleClass('piechart-legend-table', tableLayout);\n\n        let legendHeader;\n        if (tableLayout) {\n          let header = '<tr><th colspan=\"2\" style=\"text-align:left\"></th>';\n          if (panel.legend.values) {\n            header += getLegendHeaderHtml(ctrl.panel.valueName);\n          }\n          if (panel.legend.percentage) {\n            header += getLegendPercentageHtml(ctrl.panel.valueName);\n          }\n          header += '</tr>';\n          legendHeader = $(header);\n        }\n\n        let total = 0;\n        if (panel.legend.percentage) {\n          for (i = 0; i < seriesList.length; i++) {\n            total += seriesList[i].stats[ctrl.panel.valueName];\n          }\n        }\n\n        let combineNum = 0,\n          combineVal = {\n            label: panel.combine.label,\n            color: '',\n            legendData: 0,\n          };\n        const seriesElements = [];\n\n        for (i = 0; i < seriesList.length; i++) {\n          const series = seriesList[i];\n          const seriesData = dataList[i];\n          // combine lower values than threshold and not include into legent\n          if (seriesData.data / total < panel.combine.threshold) {\n            combineNum++;\n            combineVal.legendData += seriesData.data;\n            // Take the first color as piechart\n            if (combineVal.color === '') combineVal.color = seriesData.color;\n          } else {\n            // ignore empty series\n            if (panel.legend.hideEmpty && series.allIsNull) {\n              continue;\n            }\n            // ignore series excluded via override\n            if (!series.legend) {\n              continue;\n            }\n\n            seriesElements.push($(generateLegendItem(seriesData, i, total, showValues, tableLayout)));\n          }\n        }\n\n        // Add combine to legend\n        if (combineNum > 0) {\n          seriesElements.push($(generateLegendItem(combineVal, seriesList.length - combineNum, total, showValues, tableLayout)));\n        }\n\n        if (tableLayout) {\n          // const topPadding = 6;\n          const tbodyElem = $('<tbody></tbody>');\n          // tbodyElem.css(\"max-height\", maxHeight - topPadding);\n          if (typeof legendHeader !== 'undefined') {\n            tbodyElem.append(legendHeader);\n          }\n          tbodyElem.append(seriesElements);\n          $container.append(tbodyElem);\n        } else {\n          $container.append(seriesElements);\n        }\n\n        if (panel.legendType === 'Under graph') {\n          addScrollbar();\n        } else {\n          destroyScrollbar();\n        }\n      }\n\n      function generateLegendItem(data: any, index: any, total: any, showValues: boolean, tableLayout: boolean) {\n        let html = '<div class=\"piechart-legend-series';\n        if (ctrl.hiddenSeries[data.label]) {\n          html += ' piechart-legend-series-hidden';\n        }\n        html += '\" data-series-index=\"' + index + '\">';\n        html += '<span class=\"piechart-legend-icon\" style=\"float:none;\">';\n        html += '<i class=\"fa fa-minus pointer\" style=\"color:' + data.color + '\"></i>';\n        html += '</span>';\n\n        html += '<a class=\"piechart-legend-alias\" style=\"float:none;\">' + _.escape(data.label) + '</a>';\n        let decimal = 0;\n        if (ctrl.panel.legend.percentageDecimals) {\n          decimal = ctrl.panel.legend.percentageDecimals;\n        }\n\n        if (showValues && tableLayout) {\n          const value = data.legendData;\n          if (panel.legend.values) {\n            html += '<div class=\"piechart-legend-value\">' + ctrl.formatValue(value) + '</div>';\n          }\n          if (total) {\n            const pvalue = ((value / total) * 100).toFixed(decimal) + '%';\n            html += '<div class=\"piechart-legend-value\">' + pvalue + '</div>';\n          }\n        }\n        html += '</div>';\n\n        return html;\n      }\n\n      function addScrollbar() {\n        const scrollbarOptions = {\n          // Number of pixels the content height can surpass the container height without enabling the scroll bar.\n          scrollYMarginOffset: 2,\n          suppressScrollX: true,\n        };\n\n        if (!legendScrollbar) {\n          legendScrollbar = new PerfectScrollbar(elem[0], scrollbarOptions);\n        } else {\n          legendScrollbar.update();\n        }\n      }\n\n      function destroyScrollbar() {\n        if (legendScrollbar) {\n          legendScrollbar.destroy();\n          legendScrollbar = null;\n        }\n      }\n    },\n  };\n});\n","/* Flot plugin for rendering pie charts.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nThe plugin assumes that each series has a single data value, and that each\nvalue is a positive integer or zero.  Negative numbers don't make sense for a\npie chart, and have unpredictable results.  The values do NOT need to be\npassed in as percentages; the plugin will calculate the total and per-slice\npercentages internally.\n\n* Created by Brian Medendorp\n\n* Updated with contributions from btburnett3, Anthony Aragues and Xavi Ivars\n\nThe plugin supports these options:\n\n\tseries: {\n\t\tpie: {\n\t\t\tshow: true/false\n\t\t\tradius: 0-1 for percentage of fullsize, or a specified pixel length, or 'auto'\n\t\t\tinnerRadius: 0-1 for percentage of fullsize or a specified pixel length, for creating a donut effect\n\t\t\tstartAngle: 0-2 factor of PI used for starting angle (in radians) i.e 3/2 starts at the top, 0 and 2 have the same result\n\t\t\ttilt: 0-1 for percentage to tilt the pie, where 1 is no tilt, and 0 is completely flat (nothing will show)\n\t\t\toffset: {\n\t\t\t\ttop: integer value to move the pie up or down\n\t\t\t\tleft: integer value to move the pie left or right, or 'auto'\n\t\t\t},\n\t\t\tstroke: {\n\t\t\t\tcolor: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#FFF')\n\t\t\t\twidth: integer pixel width of the stroke\n\t\t\t},\n\t\t\tlabel: {\n\t\t\t\tshow: true/false, or 'auto'\n\t\t\t\tformatter:  a user-defined function that modifies the text/style of the label text\n\t\t\t\tradius: 0-1 for percentage of fullsize, or a specified pixel length\n\t\t\t\tbackground: {\n\t\t\t\t\tcolor: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#000')\n\t\t\t\t\topacity: 0-1\n\t\t\t\t},\n\t\t\t\tthreshold: 0-1 for the percentage value at which to hide labels (if they're too small)\n\t\t\t},\n\t\t\tcombine: {\n\t\t\t\tthreshold: 0-1 for the percentage value at which to combine slices (if they're too small)\n\t\t\t\tcolor: any hexidecimal color value (other formats may or may not work, so best to stick with something like '#CCC'), if null, the plugin will automatically use the color of the first slice to be combined\n\t\t\t\tlabel: any text value of what the combined slice should be labeled\n\t\t\t}\n\t\t\thighlight: {\n\t\t\t\topacity: 0-1\n\t\t\t}\n\t\t}\n\t}\n\nMore detail and specific examples can be found in the included HTML file.\n\n*/\n\n(function($) {\n\n\t// Maximum redraw attempts when fitting labels within the plot\n\n\tvar REDRAW_ATTEMPTS = 10;\n\n\t// Factor by which to shrink the pie when fitting labels within the plot\n\n\tvar REDRAW_SHRINK = 0.95;\n\n\tfunction init(plot) {\n\n\t\tvar canvas = null,\n\t\t\ttarget = null,\n\t\t\toptions = null,\n\t\t\tmaxRadius = null,\n\t\t\tcenterLeft = null,\n\t\t\tcenterTop = null,\n\t\t\tprocessed = false,\n\t\t\tctx = null;\n\n\t\t// interactive variables\n\n\t\tvar highlights = [];\n\n\t\t// add hook to determine if pie plugin in enabled, and then perform necessary operations\n\n\t\tplot.hooks.processOptions.push(function(plot, options) {\n\t\t\tif (options.series.pie.show) {\n\n\t\t\t\toptions.grid.show = false;\n\n\t\t\t\t// set labels.show\n\n\t\t\t\tif (options.series.pie.label.show == \"auto\") {\n\t\t\t\t\tif (options.legend.show) {\n\t\t\t\t\t\toptions.series.pie.label.show = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions.series.pie.label.show = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// set radius\n\n\t\t\t\tif (options.series.pie.radius == \"auto\") {\n\t\t\t\t\tif (options.series.pie.label.show) {\n\t\t\t\t\t\toptions.series.pie.radius = 3/4;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toptions.series.pie.radius = 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// ensure sane tilt\n\n\t\t\t\tif (options.series.pie.tilt > 1) {\n\t\t\t\t\toptions.series.pie.tilt = 1;\n\t\t\t\t} else if (options.series.pie.tilt < 0) {\n\t\t\t\t\toptions.series.pie.tilt = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.bindEvents.push(function(plot, eventHolder) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tif (options.grid.hoverable) {\n\t\t\t\t\teventHolder.unbind(\"mousemove\").mousemove(onMouseMove);\n\t\t\t\t}\n\t\t\t\tif (options.grid.clickable) {\n\t\t\t\t\teventHolder.unbind(\"click\").click(onClick);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.processDatapoints.push(function(plot, series, data, datapoints) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tprocessDatapoints(plot, series, data, datapoints);\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.drawOverlay.push(function(plot, octx) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tdrawOverlay(plot, octx);\n\t\t\t}\n\t\t});\n\n\t\tplot.hooks.draw.push(function(plot, newCtx) {\n\t\t\tvar options = plot.getOptions();\n\t\t\tif (options.series.pie.show) {\n\t\t\t\tdraw(plot, newCtx);\n\t\t\t}\n\t\t});\n\n\t\tfunction processDatapoints(plot, series, datapoints) {\n\t\t\tif (!processed)\t{\n\t\t\t\tprocessed = true;\n\t\t\t\tcanvas = plot.getCanvas();\n\t\t\t\ttarget = $(canvas).parent();\n\t\t\t\toptions = plot.getOptions();\n\t\t\t\tplot.setData(combine(plot.getData()));\n\t\t\t}\n\t\t}\n\n\t\tfunction combine(data) {\n\n\t\t\tvar total = 0,\n\t\t\t\tcombined = 0,\n\t\t\t\tnumCombined = 0,\n\t\t\t\tcolor = options.series.pie.combine.color,\n\t\t\t\tnewdata = [];\n\n\t\t\t// Fix up the raw data from Flot, ensuring the data is numeric\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\n\t\t\t\tvar value = data[i].data;\n\n\t\t\t\t// If the data is an array, we'll assume that it's a standard\n\t\t\t\t// Flot x-y pair, and are concerned only with the second value.\n\n\t\t\t\t// Note how we use the original array, rather than creating a\n\t\t\t\t// new one; this is more efficient and preserves any extra data\n\t\t\t\t// that the user may have stored in higher indexes.\n\n\t\t\t\tif ($.isArray(value) && value.length == 1) {\n    \t\t\t\tvalue = value[0];\n\t\t\t\t}\n\n\t\t\t\tif ($.isArray(value)) {\n\t\t\t\t\t// Equivalent to $.isNumeric() but compatible with jQuery < 1.7\n\t\t\t\t\tif (!isNaN(parseFloat(value[1])) && isFinite(value[1])) {\n\t\t\t\t\t\tvalue[1] = +value[1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue[1] = 0;\n\t\t\t\t\t}\n\t\t\t\t} else if (!isNaN(parseFloat(value)) && isFinite(value)) {\n\t\t\t\t\tvalue = [1, +value];\n\t\t\t\t} else {\n\t\t\t\t\tvalue = [1, 0];\n\t\t\t\t}\n\n\t\t\t\tdata[i].data = [value];\n\t\t\t}\n\n\t\t\t// Sum up all the slices, so we can calculate percentages for each\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\t\t\t\ttotal += data[i].data[0][1];\n\t\t\t}\n\n\t\t\t// Count the number of slices with percentages below the combine\n\t\t\t// threshold; if it turns out to be just one, we won't combine.\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\t\t\t\tvar value = data[i].data[0][1];\n\t\t\t\tif (value / total <= options.series.pie.combine.threshold) {\n\t\t\t\t\tcombined += value;\n\t\t\t\t\tnumCombined++;\n\t\t\t\t\tif (!color) {\n\t\t\t\t\t\tcolor = data[i].color;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < data.length; ++i) {\n\t\t\t\tvar value = data[i].data[0][1];\n\t\t\t\tif (numCombined < 2 || value / total > options.series.pie.combine.threshold) {\n\t\t\t\t\tnewdata.push(\n\t\t\t\t\t\t$.extend(data[i], {     /* extend to allow keeping all other original data values\n\t\t\t\t\t\t                           and using them e.g. in labelFormatter. */\n\t\t\t\t\t\t\tdata: [[1, value]],\n\t\t\t\t\t\t\tcolor: data[i].color,\n\t\t\t\t\t\t\tlabel: data[i].label,\n\t\t\t\t\t\t\tangle: value * Math.PI * 2 / total,\n\t\t\t\t\t\t\tpercent: value / (total / 100)\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (numCombined > 1) {\n\t\t\t\tnewdata.push({\n\t\t\t\t\tdata: [[1, combined]],\n\t\t\t\t\tcolor: color,\n\t\t\t\t\tlabel: options.series.pie.combine.label,\n\t\t\t\t\tangle: combined * Math.PI * 2 / total,\n\t\t\t\t\tpercent: combined / (total / 100)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn newdata;\n\t\t}\n\n\t\tfunction draw(plot, newCtx) {\n\n\t\t\tif (!target) {\n\t\t\t\treturn; // if no series were passed\n\t\t\t}\n\n\t\t\tvar canvasWidth = plot.getPlaceholder().width(),\n\t\t\t\tcanvasHeight = plot.getPlaceholder().height(),\n\t\t\t\tlegendWidth = target.children().filter(\".legend\").children().width() || 0;\n\n\t\t\tctx = newCtx;\n\n\t\t\t// WARNING: HACK! REWRITE THIS CODE AS SOON AS POSSIBLE!\n\n\t\t\t// When combining smaller slices into an 'other' slice, we need to\n\t\t\t// add a new series.  Since Flot gives plugins no way to modify the\n\t\t\t// list of series, the pie plugin uses a hack where the first call\n\t\t\t// to processDatapoints results in a call to setData with the new\n\t\t\t// list of series, then subsequent processDatapoints do nothing.\n\n\t\t\t// The plugin-global 'processed' flag is used to control this hack;\n\t\t\t// it starts out false, and is set to true after the first call to\n\t\t\t// processDatapoints.\n\n\t\t\t// Unfortunately this turns future setData calls into no-ops; they\n\t\t\t// call processDatapoints, the flag is true, and nothing happens.\n\n\t\t\t// To fix this we'll set the flag back to false here in draw, when\n\t\t\t// all series have been processed, so the next sequence of calls to\n\t\t\t// processDatapoints once again starts out with a slice-combine.\n\t\t\t// This is really a hack; in 0.9 we need to give plugins a proper\n\t\t\t// way to modify series before any processing begins.\n\n\t\t\tprocessed = false;\n\n\t\t\t// calculate maximum radius and center point\n\n\t\t\tmaxRadius =  Math.min(canvasWidth, canvasHeight / options.series.pie.tilt) / 2;\n\t\t\tcenterTop = canvasHeight / 2 + options.series.pie.offset.top;\n\t\t\tcenterLeft = canvasWidth / 2;\n\n\t\t\tif (options.series.pie.offset.left == \"auto\") {\n\t\t\t\tif (options.legend.position.match(\"w\")) {\n\t\t\t\t\tcenterLeft += legendWidth / 2;\n\t\t\t\t} else {\n\t\t\t\t\tcenterLeft -= legendWidth / 2;\n\t\t\t\t}\n\t\t\t\tif (centerLeft < maxRadius) {\n\t\t\t\t\tcenterLeft = maxRadius;\n\t\t\t\t} else if (centerLeft > canvasWidth - maxRadius) {\n\t\t\t\t\tcenterLeft = canvasWidth - maxRadius;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcenterLeft += options.series.pie.offset.left;\n\t\t\t}\n\n\t\t\tvar slices = plot.getData(),\n\t\t\t\tattempts = 0;\n\n\t\t\t// Keep shrinking the pie's radius until drawPie returns true,\n\t\t\t// indicating that all the labels fit, or we try too many times.\n\n\t\t\tdo {\n\t\t\t\tif (attempts > 0) {\n\t\t\t\t\tmaxRadius *= REDRAW_SHRINK;\n\t\t\t\t}\n\t\t\t\tattempts += 1;\n\t\t\t\tclear();\n\t\t\t\tif (options.series.pie.tilt <= 0.8) {\n\t\t\t\t\tdrawShadow();\n\t\t\t\t}\n\t\t\t} while (!drawPie() && attempts < REDRAW_ATTEMPTS)\n\n\t\t\tif (attempts >= REDRAW_ATTEMPTS) {\n\t\t\t\tclear();\n\t\t\t\ttarget.prepend(\"<div class='error'>Could not draw pie with labels contained inside canvas</div>\");\n\t\t\t}\n\n\t\t\tif (plot.setSeries && plot.insertLegend) {\n\t\t\t\tplot.setSeries(slices);\n\t\t\t\tplot.insertLegend();\n\t\t\t}\n\n\t\t\t// we're actually done at this point, just defining internal functions at this point\n\n\t\t\tfunction clear() {\n\t\t\t\tctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\t\t\t\ttarget.children().filter(\".pieLabel, .pieLabelBackground\").remove();\n\t\t\t}\n\n\t\t\tfunction drawShadow() {\n\n\t\t\t\tvar shadowLeft = options.series.pie.shadow.left;\n\t\t\t\tvar shadowTop = options.series.pie.shadow.top;\n\t\t\t\tvar edge = 10;\n\t\t\t\tvar alpha = options.series.pie.shadow.alpha;\n\t\t\t\tvar radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;\n\n\t\t\t\tif (radius >= canvasWidth / 2 - shadowLeft || radius * options.series.pie.tilt >= canvasHeight / 2 - shadowTop || radius <= edge) {\n\t\t\t\t\treturn;\t// shadow would be outside canvas, so don't draw it\n\t\t\t\t}\n\n\t\t\t\tctx.save();\n\t\t\t\tctx.translate(shadowLeft,shadowTop);\n\t\t\t\tctx.globalAlpha = alpha;\n\t\t\t\tctx.fillStyle = \"#000\";\n\n\t\t\t\t// center and rotate to starting position\n\n\t\t\t\tctx.translate(centerLeft,centerTop);\n\t\t\t\tctx.scale(1, options.series.pie.tilt);\n\n\t\t\t\t//radius -= edge;\n\n\t\t\t\tfor (var i = 1; i <= edge; i++) {\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, false);\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tradius -= i;\n\t\t\t\t}\n\n\t\t\t\tctx.restore();\n\t\t\t}\n\n\t\t\tfunction drawPie() {\n\n\t\t\t\tvar startAngle = Math.PI * options.series.pie.startAngle;\n\t\t\t\tvar radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;\n\n\t\t\t\t// center and rotate to starting position\n\n\t\t\t\tctx.save();\n\t\t\t\tctx.translate(centerLeft,centerTop);\n\t\t\t\tctx.scale(1, options.series.pie.tilt);\n\t\t\t\t//ctx.rotate(startAngle); // start at top; -- This doesn't work properly in Opera\n\n\t\t\t\t// draw slices\n\n\t\t\t\tctx.save();\n\t\t\t\tvar currentAngle = startAngle;\n\t\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\t\t\t\t\tslices[i].startAngle = currentAngle;\n\t\t\t\t\tdrawSlice(slices[i].angle, slices[i].color, true);\n\t\t\t\t}\n\t\t\t\tctx.restore();\n\n\t\t\t\t// draw slice outlines\n\n\t\t\t\tif (options.series.pie.stroke.width > 0) {\n\t\t\t\t\tctx.save();\n\t\t\t\t\tctx.lineWidth = options.series.pie.stroke.width;\n\t\t\t\t\tcurrentAngle = startAngle;\n\t\t\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\t\t\t\t\t\tdrawSlice(slices[i].angle, options.series.pie.stroke.color, false);\n\t\t\t\t\t}\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\n\t\t\t\t// draw donut hole\n\n\t\t\t\tdrawDonutHole(ctx);\n\n\t\t\t\tctx.restore();\n\n\t\t\t\t// Draw the labels, returning true if they fit within the plot\n\n\t\t\t\tif (options.series.pie.label.show) {\n\t\t\t\t\treturn drawLabels();\n\t\t\t\t} else return true;\n\n\t\t\t\tfunction drawSlice(angle, color, fill) {\n\n\t\t\t\t\tif (angle <= 0 || isNaN(angle)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (fill) {\n\t\t\t\t\t\tctx.fillStyle = color;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.strokeStyle = color;\n\t\t\t\t\t\tctx.lineJoin = \"round\";\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tif (Math.abs(angle - Math.PI * 2) > 0.000000001) {\n\t\t\t\t\t\tctx.moveTo(0, 0); // Center of the pie\n\t\t\t\t\t}\n\n\t\t\t\t\t//ctx.arc(0, 0, radius, 0, angle, false); // This doesn't work properly in Opera\n\t\t\t\t\tctx.arc(0, 0, radius,currentAngle, currentAngle + angle / 2, false);\n\t\t\t\t\tctx.arc(0, 0, radius,currentAngle + angle / 2, currentAngle + angle, false);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\t//ctx.rotate(angle); // This doesn't work properly in Opera\n\t\t\t\t\tcurrentAngle += angle;\n\n\t\t\t\t\tif (fill) {\n\t\t\t\t\t\tctx.fill();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction drawLabels() {\n\n\t\t\t\t\tvar currentAngle = startAngle;\n\t\t\t\t\tvar radius = options.series.pie.label.radius > 1 ? options.series.pie.label.radius : maxRadius * options.series.pie.label.radius;\n\n\t\t\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\t\t\t\t\t\tif (slices[i].percent >= options.series.pie.label.threshold * 100) {\n\t\t\t\t\t\t\tif (!drawLabel(slices[i], currentAngle, i)) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentAngle += slices[i].angle;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t\tfunction drawLabel(slice, startAngle, index) {\n\n\t\t\t\t\t\tif (slice.data[0][1] == 0) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// format label text\n\n\t\t\t\t\t\tvar lf = options.legend.labelFormatter, text, plf = options.series.pie.label.formatter;\n\n\t\t\t\t\t\tif (lf) {\n\t\t\t\t\t\t\ttext = lf(slice.label, slice);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttext = slice.label;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (plf) {\n\t\t\t\t\t\t\ttext = plf(text, slice);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar halfAngle = ((startAngle + slice.angle) + startAngle) / 2;\n\t\t\t\t\t\tvar x = centerLeft + Math.round(Math.cos(halfAngle) * radius);\n\t\t\t\t\t\tvar y = centerTop + Math.round(Math.sin(halfAngle) * radius) * options.series.pie.tilt;\n\n\t\t\t\t\t\tvar html = \"<span class='pieLabel' id='pieLabel\" + index + \"' style='position:absolute;top:\" + y + \"px;left:\" + x + \"px;'>\" + text + \"</span>\";\n\t\t\t\t\t\ttarget.append(html);\n\n\t\t\t\t\t\tvar label = target.children(\"#pieLabel\" + index);\n\t\t\t\t\t\tvar labelTop = (y - label.height() / 2);\n\t\t\t\t\t\tvar labelLeft = (x - label.width() / 2);\n\n\t\t\t\t\t\tlabel.css(\"top\", labelTop);\n\t\t\t\t\t\tlabel.css(\"left\", labelLeft);\n\n\t\t\t\t\t\t// check to make sure that the label is not outside the canvas\n\n\t\t\t\t\t\tif (0 - labelTop > 0 || 0 - labelLeft > 0 || canvasHeight - (labelTop + label.height()) < 0 || canvasWidth - (labelLeft + label.width()) < 0) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (options.series.pie.label.background.opacity != 0) {\n\n\t\t\t\t\t\t\t// put in the transparent background separately to avoid blended labels and label boxes\n\n\t\t\t\t\t\t\tvar c = options.series.pie.label.background.color;\n\n\t\t\t\t\t\t\tif (c == null) {\n\t\t\t\t\t\t\t\tc = slice.color;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar pos = \"top:\" + labelTop + \"px;left:\" + labelLeft + \"px;\";\n\t\t\t\t\t\t\t$(\"<div class='pieLabelBackground' style='position:absolute;width:\" + label.width() + \"px;height:\" + label.height() + \"px;\" + pos + \"background-color:\" + c + \";'></div>\")\n\t\t\t\t\t\t\t\t.css(\"opacity\", options.series.pie.label.background.opacity)\n\t\t\t\t\t\t\t\t.insertBefore(label);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} // end individual label function\n\t\t\t\t} // end drawLabels function\n\t\t\t} // end drawPie function\n\t\t} // end draw function\n\n\t\t// Placed here because it needs to be accessed from multiple locations\n\n\t\tfunction drawDonutHole(layer) {\n\t\t\tif (options.series.pie.innerRadius > 0) {\n\n\t\t\t\t// subtract the center\n\n\t\t\t\tlayer.save();\n\t\t\t\tvar innerRadius = options.series.pie.innerRadius > 1 ? options.series.pie.innerRadius : maxRadius * options.series.pie.innerRadius;\n\t\t\t\tlayer.globalCompositeOperation = \"destination-out\"; // this does not work with excanvas, but it will fall back to using the stroke color\n\t\t\t\tlayer.beginPath();\n\t\t\t\tlayer.fillStyle = options.series.pie.stroke.color;\n\t\t\t\tlayer.arc(0, 0, innerRadius, 0, Math.PI * 2, false);\n\t\t\t\tlayer.fill();\n\t\t\t\tlayer.closePath();\n\t\t\t\tlayer.restore();\n\n\t\t\t\t// add inner stroke\n\n\t\t\t\tlayer.save();\n\t\t\t\tlayer.beginPath();\n\t\t\t\tlayer.strokeStyle = options.series.pie.stroke.color;\n\t\t\t\tlayer.arc(0, 0, innerRadius, 0, Math.PI * 2, false);\n\t\t\t\tlayer.stroke();\n\t\t\t\tlayer.closePath();\n\t\t\t\tlayer.restore();\n\n\t\t\t\t// TODO: add extra shadow inside hole (with a mask) if the pie is tilted.\n\t\t\t}\n\t\t}\n\n\t\t//-- Additional Interactive related functions --\n\n\t\tfunction isPointInPoly(poly, pt) {\n\t\t\tfor(var c = false, i = -1, l = poly.length, j = l - 1; ++i < l; j = i)\n\t\t\t\t((poly[i][1] <= pt[1] && pt[1] < poly[j][1]) || (poly[j][1] <= pt[1] && pt[1]< poly[i][1]))\n\t\t\t\t&& (pt[0] < (poly[j][0] - poly[i][0]) * (pt[1] - poly[i][1]) / (poly[j][1] - poly[i][1]) + poly[i][0])\n\t\t\t\t&& (c = !c);\n\t\t\treturn c;\n\t\t}\n\n\t\tfunction findNearbySlice(mouseX, mouseY) {\n\n\t\t\tvar slices = plot.getData(),\n\t\t\t\toptions = plot.getOptions(),\n\t\t\t\tradius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius,\n\t\t\t\tx, y;\n\n\t\t\tfor (var i = 0; i < slices.length; ++i) {\n\n\t\t\t\tvar s = slices[i];\n\n\t\t\t\tif (s.pie.show) {\n\n\t\t\t\t\tctx.save();\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(0, 0); // Center of the pie\n\t\t\t\t\t//ctx.scale(1, options.series.pie.tilt);\t// this actually seems to break everything when here.\n\t\t\t\t\tctx.arc(0, 0, radius, s.startAngle, s.startAngle + s.angle / 2, false);\n\t\t\t\t\tctx.arc(0, 0, radius, s.startAngle + s.angle / 2, s.startAngle + s.angle, false);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tx = mouseX - centerLeft;\n\t\t\t\t\ty = mouseY - centerTop;\n\n\t\t\t\t\tif (ctx.isPointInPath) {\n\t\t\t\t\t\tif (ctx.isPointInPath(mouseX - centerLeft, mouseY - centerTop)) {\n\t\t\t\t\t\t\tctx.restore();\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdatapoint: [s.percent, s.data],\n\t\t\t\t\t\t\t\tdataIndex: 0,\n\t\t\t\t\t\t\t\tseries: s,\n\t\t\t\t\t\t\t\tseriesIndex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// excanvas for IE doesn;t support isPointInPath, this is a workaround.\n\n\t\t\t\t\t\tvar p1X = radius * Math.cos(s.startAngle),\n\t\t\t\t\t\t\tp1Y = radius * Math.sin(s.startAngle),\n\t\t\t\t\t\t\tp2X = radius * Math.cos(s.startAngle + s.angle / 4),\n\t\t\t\t\t\t\tp2Y = radius * Math.sin(s.startAngle + s.angle / 4),\n\t\t\t\t\t\t\tp3X = radius * Math.cos(s.startAngle + s.angle / 2),\n\t\t\t\t\t\t\tp3Y = radius * Math.sin(s.startAngle + s.angle / 2),\n\t\t\t\t\t\t\tp4X = radius * Math.cos(s.startAngle + s.angle / 1.5),\n\t\t\t\t\t\t\tp4Y = radius * Math.sin(s.startAngle + s.angle / 1.5),\n\t\t\t\t\t\t\tp5X = radius * Math.cos(s.startAngle + s.angle),\n\t\t\t\t\t\t\tp5Y = radius * Math.sin(s.startAngle + s.angle),\n\t\t\t\t\t\t\tarrPoly = [[0, 0], [p1X, p1Y], [p2X, p2Y], [p3X, p3Y], [p4X, p4Y], [p5X, p5Y]],\n\t\t\t\t\t\t\tarrPoint = [x, y];\n\n\t\t\t\t\t\t// TODO: perhaps do some mathmatical trickery here with the Y-coordinate to compensate for pie tilt?\n\n\t\t\t\t\t\tif (isPointInPoly(arrPoly, arrPoint)) {\n\t\t\t\t\t\t\tctx.restore();\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdatapoint: [s.percent, s.data],\n\t\t\t\t\t\t\t\tdataIndex: 0,\n\t\t\t\t\t\t\t\tseries: s,\n\t\t\t\t\t\t\t\tseriesIndex: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.restore();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\tfunction onMouseMove(e) {\n\t\t\ttriggerClickHoverEvent(\"plothover\", e);\n\t\t}\n\n\t\tfunction onClick(e) {\n\t\t\ttriggerClickHoverEvent(\"plotclick\", e);\n\t\t}\n\n\t\t// trigger click or hover event (they send the same parameters so we share their code)\n\n\t\tfunction triggerClickHoverEvent(eventname, e) {\n\n\t\t\tvar offset = plot.offset();\n\t\t\tvar canvasX = parseInt(e.pageX - offset.left);\n\t\t\tvar canvasY =  parseInt(e.pageY - offset.top);\n\t\t\tvar item = findNearbySlice(canvasX, canvasY);\n\n\t\t\tif (options.grid.autoHighlight) {\n\n\t\t\t\t// clear auto-highlights\n\n\t\t\t\tfor (var i = 0; i < highlights.length; ++i) {\n\t\t\t\t\tvar h = highlights[i];\n\t\t\t\t\tif (h.auto == eventname && !(item && h.series == item.series)) {\n\t\t\t\t\t\tunhighlight(h.series);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// highlight the slice\n\n\t\t\tif (item) {\n\t\t\t\thighlight(item.series, eventname);\n\t\t\t}\n\n\t\t\t// trigger any hover bind events\n\n\t\t\tvar pos = { pageX: e.pageX, pageY: e.pageY };\n\t\t\ttarget.trigger(eventname, [pos, item]);\n\t\t}\n\n\t\tfunction highlight(s, auto) {\n\t\t\t//if (typeof s == \"number\") {\n\t\t\t//\ts = series[s];\n\t\t\t//}\n\n\t\t\tvar i = indexOfHighlight(s);\n\n\t\t\tif (i == -1) {\n\t\t\t\thighlights.push({ series: s, auto: auto });\n\t\t\t\tplot.triggerRedrawOverlay();\n\t\t\t} else if (!auto) {\n\t\t\t\thighlights[i].auto = false;\n\t\t\t}\n\t\t}\n\n\t\tfunction unhighlight(s) {\n\t\t\tif (s == null) {\n\t\t\t\thighlights = [];\n\t\t\t\tplot.triggerRedrawOverlay();\n\t\t\t}\n\n\t\t\t//if (typeof s == \"number\") {\n\t\t\t//\ts = series[s];\n\t\t\t//}\n\n\t\t\tvar i = indexOfHighlight(s);\n\n\t\t\tif (i != -1) {\n\t\t\t\thighlights.splice(i, 1);\n\t\t\t\tplot.triggerRedrawOverlay();\n\t\t\t}\n\t\t}\n\n\t\tfunction indexOfHighlight(s) {\n\t\t\tfor (var i = 0; i < highlights.length; ++i) {\n\t\t\t\tvar h = highlights[i];\n\t\t\t\tif (h.series == s)\n\t\t\t\t\treturn i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\n\t\tfunction drawOverlay(plot, octx) {\n\n\t\t\tvar options = plot.getOptions();\n\n\t\t\tvar radius = options.series.pie.radius > 1 ? options.series.pie.radius : maxRadius * options.series.pie.radius;\n\n\t\t\toctx.save();\n\t\t\toctx.translate(centerLeft, centerTop);\n\t\t\toctx.scale(1, options.series.pie.tilt);\n\n\t\t\tfor (var i = 0; i < highlights.length; ++i) {\n\t\t\t\tdrawHighlight(highlights[i].series);\n\t\t\t}\n\n\t\t\tdrawDonutHole(octx);\n\n\t\t\toctx.restore();\n\n\t\t\tfunction drawHighlight(series) {\n\n\t\t\t\tif (series.angle <= 0 || isNaN(series.angle)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//octx.fillStyle = parseColor(options.series.pie.highlight.color).scale(null, null, null, options.series.pie.highlight.opacity).toString();\n\t\t\t\toctx.fillStyle = \"rgba(255, 255, 255, \" + options.series.pie.highlight.opacity + \")\"; // this is temporary until we have access to parseColor\n\t\t\t\toctx.beginPath();\n\t\t\t\tif (Math.abs(series.angle - Math.PI * 2) > 0.000000001) {\n\t\t\t\t\toctx.moveTo(0, 0); // Center of the pie\n\t\t\t\t}\n\t\t\t\toctx.arc(0, 0, radius, series.startAngle, series.startAngle + series.angle / 2, false);\n\t\t\t\toctx.arc(0, 0, radius, series.startAngle + series.angle / 2, series.startAngle + series.angle, false);\n\t\t\t\toctx.closePath();\n\t\t\t\toctx.fill();\n\t\t\t}\n\t\t}\n\t} // end init (plugin body)\n\n\t// define pie specific options and their default values\n\n\tvar options = {\n\t\tseries: {\n\t\t\tpie: {\n\t\t\t\tshow: false,\n\t\t\t\tradius: \"auto\",\t// actual radius of the visible pie (based on full calculated radius if <=1, or hard pixel value)\n\t\t\t\tinnerRadius: 0, /* for donut */\n\t\t\t\tstartAngle: 3/2,\n\t\t\t\ttilt: 1,\n\t\t\t\tshadow: {\n\t\t\t\t\tleft: 5,\t// shadow left offset\n\t\t\t\t\ttop: 15,\t// shadow top offset\n\t\t\t\t\talpha: 0.02\t// shadow alpha\n\t\t\t\t},\n\t\t\t\toffset: {\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: \"auto\"\n\t\t\t\t},\n\t\t\t\tstroke: {\n\t\t\t\t\tcolor: \"#fff\",\n\t\t\t\t\twidth: 1\n\t\t\t\t},\n\t\t\t\tlabel: {\n\t\t\t\t\tshow: \"auto\",\n\t\t\t\t\tformatter: function(label, slice) {\n\t\t\t\t\t\treturn \"<div style='font-size:x-small;text-align:center;padding:2px;color:\" + slice.color + \";'>\" + label + \"<br/>\" + Math.round(slice.percent) + \"%</div>\";\n\t\t\t\t\t},\t// formatter function\n\t\t\t\t\tradius: 1,\t// radius at which to place the labels (based on full calculated radius if <=1, or hard pixel value)\n\t\t\t\t\tbackground: {\n\t\t\t\t\t\tcolor: null,\n\t\t\t\t\t\topacity: 0\n\t\t\t\t\t},\n\t\t\t\t\tthreshold: 0\t// percentage at which to hide the label (i.e. the slice is too narrow)\n\t\t\t\t},\n\t\t\t\tcombine: {\n\t\t\t\t\tthreshold: -1,\t// percentage at which to combine little slices into one larger slice\n\t\t\t\t\tcolor: null,\t// color to give the new slice (auto-generated if null)\n\t\t\t\t\tlabel: \"Other\"\t// label to give the new slice\n\t\t\t\t},\n\t\t\t\thighlight: {\n\t\t\t\t\t//color: \"#fff\",\t\t// will add this functionality once parseColor is available\n\t\t\t\t\topacity: 0.5\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\t$.plot.plugins.push({\n\t\tinit: init,\n\t\toptions: options,\n\t\tname: \"pie\",\n\t\tversion: \"1.1\"\n\t});\n\n})(jQuery);\n","/* Pretty handling of time axes.\n\nCopyright (c) 2007-2014 IOLA and Ole Laursen.\nLicensed under the MIT license.\n\nSet axis.mode to \"time\" to enable. See the section \"Time series data\" in\nAPI.txt for details.\n\n*/\n\n(function($) {\n\n\tvar options = {\n\t\txaxis: {\n\t\t\ttimezone: null,\t\t// \"browser\" for local to the client or timezone for timezone-js\n\t\t\ttimeformat: null,\t// format string to use\n\t\t\ttwelveHourClock: false,\t// 12 or 24 time in time mode\n\t\t\tmonthNames: null\t// list of names of months\n\t\t}\n\t};\n\n\t// round to nearby lower multiple of base\n\n\tfunction floorInBase(n, base) {\n\t\treturn base * Math.floor(n / base);\n\t}\n\n\t// Returns a string with the date d formatted according to fmt.\n\t// A subset of the Open Group's strftime format is supported.\n\n\tfunction formatDate(d, fmt, monthNames, dayNames) {\n\n\t\tif (typeof d.strftime == \"function\") {\n\t\t\treturn d.strftime(fmt);\n\t\t}\n\n\t\tvar leftPad = function(n, pad) {\n\t\t\tn = \"\" + n;\n\t\t\tpad = \"\" + (pad == null ? \"0\" : pad);\n\t\t\treturn n.length == 1 ? pad + n : n;\n\t\t};\n\n\t\tvar r = [];\n\t\tvar escape = false;\n\t\tvar hours = d.getHours();\n\t\tvar isAM = hours < 12;\n\n\t\tif (monthNames == null) {\n\t\t\tmonthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\t\t}\n\n\t\tif (dayNames == null) {\n\t\t\tdayNames = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\t\t}\n\n\t\tvar hours12;\n\n\t\tif (hours > 12) {\n\t\t\thours12 = hours - 12;\n\t\t} else if (hours == 0) {\n\t\t\thours12 = 12;\n\t\t} else {\n\t\t\thours12 = hours;\n\t\t}\n\n\t\tfor (var i = 0; i < fmt.length; ++i) {\n\n\t\t\tvar c = fmt.charAt(i);\n\n\t\t\tif (escape) {\n\t\t\t\tswitch (c) {\n\t\t\t\t\tcase 'a': c = \"\" + dayNames[d.getDay()]; break;\n\t\t\t\t\tcase 'b': c = \"\" + monthNames[d.getMonth()]; break;\n\t\t\t\t\tcase 'd': c = leftPad(d.getDate()); break;\n\t\t\t\t\tcase 'e': c = leftPad(d.getDate(), \" \"); break;\n\t\t\t\t\tcase 'h':\t// For back-compat with 0.7; remove in 1.0\n\t\t\t\t\tcase 'H': c = leftPad(hours); break;\n\t\t\t\t\tcase 'I': c = leftPad(hours12); break;\n\t\t\t\t\tcase 'l': c = leftPad(hours12, \" \"); break;\n\t\t\t\t\tcase 'm': c = leftPad(d.getMonth() + 1); break;\n\t\t\t\t\tcase 'M': c = leftPad(d.getMinutes()); break;\n\t\t\t\t\t// quarters not in Open Group's strftime specification\n\t\t\t\t\tcase 'q':\n\t\t\t\t\t\tc = \"\" + (Math.floor(d.getMonth() / 3) + 1); break;\n\t\t\t\t\tcase 'S': c = leftPad(d.getSeconds()); break;\n\t\t\t\t\tcase 'y': c = leftPad(d.getFullYear() % 100); break;\n\t\t\t\t\tcase 'Y': c = \"\" + d.getFullYear(); break;\n\t\t\t\t\tcase 'p': c = (isAM) ? (\"\" + \"am\") : (\"\" + \"pm\"); break;\n\t\t\t\t\tcase 'P': c = (isAM) ? (\"\" + \"AM\") : (\"\" + \"PM\"); break;\n\t\t\t\t\tcase 'w': c = \"\" + d.getDay(); break;\n\t\t\t\t}\n\t\t\t\tr.push(c);\n\t\t\t\tescape = false;\n\t\t\t} else {\n\t\t\t\tif (c == \"%\") {\n\t\t\t\t\tescape = true;\n\t\t\t\t} else {\n\t\t\t\t\tr.push(c);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn r.join(\"\");\n\t}\n\n\t// To have a consistent view of time-based data independent of which time\n\t// zone the client happens to be in we need a date-like object independent\n\t// of time zones.  This is done through a wrapper that only calls the UTC\n\t// versions of the accessor methods.\n\n\tfunction makeUtcWrapper(d) {\n\n\t\tfunction addProxyMethod(sourceObj, sourceMethod, targetObj, targetMethod) {\n\t\t\tsourceObj[sourceMethod] = function() {\n\t\t\t\treturn targetObj[targetMethod].apply(targetObj, arguments);\n\t\t\t};\n\t\t};\n\n\t\tvar utc = {\n\t\t\tdate: d\n\t\t};\n\n\t\t// support strftime, if found\n\n\t\tif (d.strftime != undefined) {\n\t\t\taddProxyMethod(utc, \"strftime\", d, \"strftime\");\n\t\t}\n\n\t\taddProxyMethod(utc, \"getTime\", d, \"getTime\");\n\t\taddProxyMethod(utc, \"setTime\", d, \"setTime\");\n\n\t\tvar props = [\"Date\", \"Day\", \"FullYear\", \"Hours\", \"Milliseconds\", \"Minutes\", \"Month\", \"Seconds\"];\n\n\t\tfor (var p = 0; p < props.length; p++) {\n\t\t\taddProxyMethod(utc, \"get\" + props[p], d, \"getUTC\" + props[p]);\n\t\t\taddProxyMethod(utc, \"set\" + props[p], d, \"setUTC\" + props[p]);\n\t\t}\n\n\t\treturn utc;\n\t};\n\n\t// select time zone strategy.  This returns a date-like object tied to the\n\t// desired timezone\n\n\tfunction dateGenerator(ts, opts) {\n\t\tif (opts.timezone == \"browser\") {\n\t\t\treturn new Date(ts);\n\t\t} else if (!opts.timezone || opts.timezone == \"utc\") {\n\t\t\treturn makeUtcWrapper(new Date(ts));\n\t\t} else if (typeof timezoneJS != \"undefined\" && typeof timezoneJS.Date != \"undefined\") {\n\t\t\tvar d = new timezoneJS.Date();\n\t\t\t// timezone-js is fickle, so be sure to set the time zone before\n\t\t\t// setting the time.\n\t\t\td.setTimezone(opts.timezone);\n\t\t\td.setTime(ts);\n\t\t\treturn d;\n\t\t} else {\n\t\t\treturn makeUtcWrapper(new Date(ts));\n\t\t}\n\t}\n\t\n\t// map of app. size of time units in milliseconds\n\n\tvar timeUnitSize = {\n\t\t\"second\": 1000,\n\t\t\"minute\": 60 * 1000,\n\t\t\"hour\": 60 * 60 * 1000,\n\t\t\"day\": 24 * 60 * 60 * 1000,\n\t\t\"month\": 30 * 24 * 60 * 60 * 1000,\n\t\t\"quarter\": 3 * 30 * 24 * 60 * 60 * 1000,\n\t\t\"year\": 365.2425 * 24 * 60 * 60 * 1000\n\t};\n\n\t// the allowed tick sizes, after 1 year we use\n\t// an integer algorithm\n\n\tvar baseSpec = [\n\t\t[1, \"second\"], [2, \"second\"], [5, \"second\"], [10, \"second\"],\n\t\t[30, \"second\"], \n\t\t[1, \"minute\"], [2, \"minute\"], [5, \"minute\"], [10, \"minute\"],\n\t\t[30, \"minute\"], \n\t\t[1, \"hour\"], [2, \"hour\"], [4, \"hour\"],\n\t\t[8, \"hour\"], [12, \"hour\"],\n\t\t[1, \"day\"], [2, \"day\"], [3, \"day\"],\n\t\t[0.25, \"month\"], [0.5, \"month\"], [1, \"month\"],\n\t\t[2, \"month\"]\n\t];\n\n\t// we don't know which variant(s) we'll need yet, but generating both is\n\t// cheap\n\n\tvar specMonths = baseSpec.concat([[3, \"month\"], [6, \"month\"],\n\t\t[1, \"year\"]]);\n\tvar specQuarters = baseSpec.concat([[1, \"quarter\"], [2, \"quarter\"],\n\t\t[1, \"year\"]]);\n\n\tfunction init(plot) {\n\t\tplot.hooks.processOptions.push(function (plot, options) {\n\t\t\t$.each(plot.getAxes(), function(axisName, axis) {\n\n\t\t\t\tvar opts = axis.options;\n\n\t\t\t\tif (opts.mode == \"time\") {\n\t\t\t\t\taxis.tickGenerator = function(axis) {\n\n\t\t\t\t\t\tvar ticks = [];\n\t\t\t\t\t\tvar d = dateGenerator(axis.min, opts);\n\t\t\t\t\t\tvar minSize = 0;\n\n\t\t\t\t\t\t// make quarter use a possibility if quarters are\n\t\t\t\t\t\t// mentioned in either of these options\n\n\t\t\t\t\t\tvar spec = (opts.tickSize && opts.tickSize[1] ===\n\t\t\t\t\t\t\t\"quarter\") ||\n\t\t\t\t\t\t\t(opts.minTickSize && opts.minTickSize[1] ===\n\t\t\t\t\t\t\t\"quarter\") ? specQuarters : specMonths;\n\n\t\t\t\t\t\tif (opts.minTickSize != null) {\n\t\t\t\t\t\t\tif (typeof opts.tickSize == \"number\") {\n\t\t\t\t\t\t\t\tminSize = opts.tickSize;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tminSize = opts.minTickSize[0] * timeUnitSize[opts.minTickSize[1]];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (var i = 0; i < spec.length - 1; ++i) {\n\t\t\t\t\t\t\tif (axis.delta < (spec[i][0] * timeUnitSize[spec[i][1]]\n\t\t\t\t\t\t\t\t\t\t\t  + spec[i + 1][0] * timeUnitSize[spec[i + 1][1]]) / 2\n\t\t\t\t\t\t\t\t&& spec[i][0] * timeUnitSize[spec[i][1]] >= minSize) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar size = spec[i][0];\n\t\t\t\t\t\tvar unit = spec[i][1];\n\n\t\t\t\t\t\t// special-case the possibility of several years\n\n\t\t\t\t\t\tif (unit == \"year\") {\n\n\t\t\t\t\t\t\t// if given a minTickSize in years, just use it,\n\t\t\t\t\t\t\t// ensuring that it's an integer\n\n\t\t\t\t\t\t\tif (opts.minTickSize != null && opts.minTickSize[1] == \"year\") {\n\t\t\t\t\t\t\t\tsize = Math.floor(opts.minTickSize[0]);\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tvar magn = Math.pow(10, Math.floor(Math.log(axis.delta / timeUnitSize.year) / Math.LN10));\n\t\t\t\t\t\t\t\tvar norm = (axis.delta / timeUnitSize.year) / magn;\n\n\t\t\t\t\t\t\t\tif (norm < 1.5) {\n\t\t\t\t\t\t\t\t\tsize = 1;\n\t\t\t\t\t\t\t\t} else if (norm < 3) {\n\t\t\t\t\t\t\t\t\tsize = 2;\n\t\t\t\t\t\t\t\t} else if (norm < 7.5) {\n\t\t\t\t\t\t\t\t\tsize = 5;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsize = 10;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsize *= magn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// minimum size for years is 1\n\n\t\t\t\t\t\t\tif (size < 1) {\n\t\t\t\t\t\t\t\tsize = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\taxis.tickSize = opts.tickSize || [size, unit];\n\t\t\t\t\t\tvar tickSize = axis.tickSize[0];\n\t\t\t\t\t\tunit = axis.tickSize[1];\n\n\t\t\t\t\t\tvar step = tickSize * timeUnitSize[unit];\n\n\t\t\t\t\t\tif (unit == \"second\") {\n\t\t\t\t\t\t\td.setSeconds(floorInBase(d.getSeconds(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"minute\") {\n\t\t\t\t\t\t\td.setMinutes(floorInBase(d.getMinutes(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"hour\") {\n\t\t\t\t\t\t\td.setHours(floorInBase(d.getHours(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"month\") {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), tickSize));\n\t\t\t\t\t\t} else if (unit == \"quarter\") {\n\t\t\t\t\t\t\td.setMonth(3 * floorInBase(d.getMonth() / 3,\n\t\t\t\t\t\t\t\ttickSize));\n\t\t\t\t\t\t} else if (unit == \"year\") {\n\t\t\t\t\t\t\td.setFullYear(floorInBase(d.getFullYear(), tickSize));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// reset smaller components\n\n\t\t\t\t\t\td.setMilliseconds(0);\n\n\t\t\t\t\t\tif (step >= timeUnitSize.minute) {\n\t\t\t\t\t\t\td.setSeconds(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.hour) {\n\t\t\t\t\t\t\td.setMinutes(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.day) {\n\t\t\t\t\t\t\td.setHours(0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.day * 4) {\n\t\t\t\t\t\t\td.setDate(1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.month * 2) {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), 3));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.quarter * 2) {\n\t\t\t\t\t\t\td.setMonth(floorInBase(d.getMonth(), 6));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (step >= timeUnitSize.year) {\n\t\t\t\t\t\t\td.setMonth(0);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar carry = 0;\n\t\t\t\t\t\tvar v = Number.NaN;\n\t\t\t\t\t\tvar prev;\n\n\t\t\t\t\t\tdo {\n\n\t\t\t\t\t\t\tprev = v;\n\t\t\t\t\t\t\tv = d.getTime();\n\t\t\t\t\t\t\tticks.push(v);\n\n\t\t\t\t\t\t\tif (unit == \"month\" || unit == \"quarter\") {\n\t\t\t\t\t\t\t\tif (tickSize < 1) {\n\n\t\t\t\t\t\t\t\t\t// a bit complicated - we'll divide the\n\t\t\t\t\t\t\t\t\t// month/quarter up but we need to take\n\t\t\t\t\t\t\t\t\t// care of fractions so we don't end up in\n\t\t\t\t\t\t\t\t\t// the middle of a day\n\n\t\t\t\t\t\t\t\t\td.setDate(1);\n\t\t\t\t\t\t\t\t\tvar start = d.getTime();\n\t\t\t\t\t\t\t\t\td.setMonth(d.getMonth() +\n\t\t\t\t\t\t\t\t\t\t(unit == \"quarter\" ? 3 : 1));\n\t\t\t\t\t\t\t\t\tvar end = d.getTime();\n\t\t\t\t\t\t\t\t\td.setTime(v + carry * timeUnitSize.hour + (end - start) * tickSize);\n\t\t\t\t\t\t\t\t\tcarry = d.getHours();\n\t\t\t\t\t\t\t\t\td.setHours(0);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\td.setMonth(d.getMonth() +\n\t\t\t\t\t\t\t\t\t\ttickSize * (unit == \"quarter\" ? 3 : 1));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (unit == \"year\") {\n\t\t\t\t\t\t\t\td.setFullYear(d.getFullYear() + tickSize);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\td.setTime(v + step);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} while (v < axis.max && v != prev);\n\n\t\t\t\t\t\treturn ticks;\n\t\t\t\t\t};\n\n\t\t\t\t\taxis.tickFormatter = function (v, axis) {\n\n\t\t\t\t\t\tvar d = dateGenerator(v, axis.options);\n\n\t\t\t\t\t\t// first check global format\n\n\t\t\t\t\t\tif (opts.timeformat != null) {\n\t\t\t\t\t\t\treturn formatDate(d, opts.timeformat, opts.monthNames, opts.dayNames);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// possibly use quarters if quarters are mentioned in\n\t\t\t\t\t\t// any of these places\n\n\t\t\t\t\t\tvar useQuarters = (axis.options.tickSize &&\n\t\t\t\t\t\t\t\taxis.options.tickSize[1] == \"quarter\") ||\n\t\t\t\t\t\t\t(axis.options.minTickSize &&\n\t\t\t\t\t\t\t\taxis.options.minTickSize[1] == \"quarter\");\n\n\t\t\t\t\t\tvar t = axis.tickSize[0] * timeUnitSize[axis.tickSize[1]];\n\t\t\t\t\t\tvar span = axis.max - axis.min;\n\t\t\t\t\t\tvar suffix = (opts.twelveHourClock) ? \" %p\" : \"\";\n\t\t\t\t\t\tvar hourCode = (opts.twelveHourClock) ? \"%I\" : \"%H\";\n\t\t\t\t\t\tvar fmt;\n\n\t\t\t\t\t\tif (t < timeUnitSize.minute) {\n\t\t\t\t\t\t\tfmt = hourCode + \":%M:%S\" + suffix;\n\t\t\t\t\t\t} else if (t < timeUnitSize.day) {\n\t\t\t\t\t\t\tif (span < 2 * timeUnitSize.day) {\n\t\t\t\t\t\t\t\tfmt = hourCode + \":%M\" + suffix;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"%b %d \" + hourCode + \":%M\" + suffix;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (t < timeUnitSize.month) {\n\t\t\t\t\t\t\tfmt = \"%b %d\";\n\t\t\t\t\t\t} else if ((useQuarters && t < timeUnitSize.quarter) ||\n\t\t\t\t\t\t\t(!useQuarters && t < timeUnitSize.year)) {\n\t\t\t\t\t\t\tif (span < timeUnitSize.year) {\n\t\t\t\t\t\t\t\tfmt = \"%b\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"%b %Y\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (useQuarters && t < timeUnitSize.year) {\n\t\t\t\t\t\t\tif (span < timeUnitSize.year) {\n\t\t\t\t\t\t\t\tfmt = \"Q%q\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfmt = \"Q%q %Y\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfmt = \"%Y\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar rt = formatDate(d, fmt, opts.monthNames, opts.dayNames);\n\n\t\t\t\t\t\treturn rt;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t$.plot.plugins.push({\n\t\tinit: init,\n\t\toptions: options,\n\t\tname: 'time',\n\t\tversion: '1.0'\n\t});\n\n\t// Time-axis support used to be in Flot core, which exposed the\n\t// formatDate function on the plot object.  Various plugins depend\n\t// on the function, so we need to re-expose it here.\n\n\t$.plot.formatDate = formatDate;\n\t$.plot.dateGenerator = dateGenerator;\n\n})(jQuery);\n","/*!\n * perfect-scrollbar v1.2.0\n * (c) 2017 Hyunje Jun\n * @license MIT\n */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):t.PerfectScrollbar=e()}(this,function(){\"use strict\";function t(t){return getComputedStyle(t)}function e(t,e){for(var i in e){var n=e[i];\"number\"==typeof n&&(n+=\"px\"),t.style[i]=n}return t}function i(t){var e=document.createElement(\"div\");return e.className=t,e}function n(t,e){if(!v)throw new Error(\"No element matching method supported\");return v.call(t,e)}function r(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function l(t,e){return Array.prototype.filter.call(t.children,function(t){return n(t,e)})}function o(t,e){var i=t.element.classList,n=m.state.scrolling(e);i.contains(n)?clearTimeout(w[e]):i.add(n)}function s(t,e){w[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(m.state.scrolling(e))},t.settings.scrollingThreshold)}function a(t,e){o(t,e),s(t,e)}function c(t){if(\"function\"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent(\"CustomEvent\");return e.initCustomEvent(t,!1,!1,void 0),e}function h(t,e,i,n,r){var l=i[0],o=i[1],s=i[2],h=i[3],u=i[4],d=i[5];void 0===n&&(n=!0),void 0===r&&(r=!1);var p=t.element;t.reach[h]=null,p[s]<1&&(t.reach[h]=\"start\"),p[s]>t[l]-t[o]-1&&(t.reach[h]=\"end\"),e&&(p.dispatchEvent(c(\"ps-scroll-\"+h)),e<0?p.dispatchEvent(c(\"ps-scroll-\"+u)):e>0&&p.dispatchEvent(c(\"ps-scroll-\"+d)),n&&a(t,h)),t.reach[h]&&(e||r)&&p.dispatchEvent(c(\"ps-\"+h+\"-reach-\"+t.reach[h]))}function u(t){return parseInt(t,10)||0}function d(t){return n(t,\"input,[contenteditable]\")||n(t,\"select,[contenteditable]\")||n(t,\"textarea,[contenteditable]\")||n(t,\"button,[contenteditable]\")}function p(e){var i=t(e);return u(i.width)+u(i.paddingLeft)+u(i.paddingRight)+u(i.borderLeftWidth)+u(i.borderRightWidth)}function f(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function b(t,i){var n={width:i.railXWidth};i.isRtl?n.left=i.negativeScrollAdjustment+t.scrollLeft+i.containerWidth-i.contentWidth:n.left=t.scrollLeft,i.isScrollbarXUsingBottom?n.bottom=i.scrollbarXBottom-t.scrollTop:n.top=i.scrollbarXTop+t.scrollTop,e(i.scrollbarXRail,n);var r={top:t.scrollTop,height:i.railYHeight};i.isScrollbarYUsingRight?i.isRtl?r.right=i.contentWidth-(i.negativeScrollAdjustment+t.scrollLeft)-i.scrollbarYRight-i.scrollbarYOuterWidth:r.right=i.scrollbarYRight-t.scrollLeft:i.isRtl?r.left=i.negativeScrollAdjustment+t.scrollLeft+2*i.containerWidth-i.contentWidth-i.scrollbarYLeft-i.scrollbarYOuterWidth:r.left=i.scrollbarYLeft+t.scrollLeft,e(i.scrollbarYRail,r),e(i.scrollbarX,{left:i.scrollbarXLeft,width:i.scrollbarXWidth-i.railBorderXWidth}),e(i.scrollbarY,{top:i.scrollbarYTop,height:i.scrollbarYHeight-i.railBorderYWidth})}function g(t,e){function i(e){f[d]=b+v*(e[a]-g),o(t,p),R(t),e.stopPropagation(),e.preventDefault()}function n(){s(t,p),t.event.unbind(t.ownerDocument,\"mousemove\",i)}var r=e[0],l=e[1],a=e[2],c=e[3],h=e[4],u=e[5],d=e[6],p=e[7],f=t.element,b=null,g=null,v=null;t.event.bind(t[h],\"mousedown\",function(e){b=f[d],g=e[a],v=(t[l]-t[r])/(t[c]-t[u]),t.event.bind(t.ownerDocument,\"mousemove\",i),t.event.once(t.ownerDocument,\"mouseup\",n),e.stopPropagation(),e.preventDefault()})}var v=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector,m={main:\"ps\",element:{thumb:function(t){return\"ps__thumb-\"+t},rail:function(t){return\"ps__rail-\"+t},consuming:\"ps__child--consume\"},state:{focus:\"ps--focus\",active:function(t){return\"ps--active-\"+t},scrolling:function(t){return\"ps--scrolling-\"+t}}},w={x:null,y:null},Y=function(t){this.element=t,this.handlers={}},X={isEmpty:{configurable:!0}};Y.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},Y.prototype.unbind=function(t,e){var i=this;this.handlers[t]=this.handlers[t].filter(function(n){return!(!e||n===e)||(i.element.removeEventListener(t,n,!1),!1)})},Y.prototype.unbindAll=function(){var t=this;for(var e in t.handlers)t.unbind(e)},X.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(Y.prototype,X);var W=function(){this.eventElements=[]};W.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new Y(t),this.eventElements.push(e)),e},W.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},W.prototype.unbind=function(t,e,i){var n=this.eventElement(t);n.unbind(e,i),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)},W.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},W.prototype.once=function(t,e,i){var n=this.eventElement(t),r=function(t){n.unbind(e,r),i(t)};n.bind(e,r)};var y=function(t,e,i,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1);var l;if(\"top\"===e)l=[\"contentHeight\",\"containerHeight\",\"scrollTop\",\"y\",\"up\",\"down\"];else{if(\"left\"!==e)throw new Error(\"A proper axis should be provided\");l=[\"contentWidth\",\"containerWidth\",\"scrollLeft\",\"x\",\"left\",\"right\"]}h(t,i,l,n,r)},L={isWebKit:document&&\"WebkitAppearance\"in document.documentElement.style,supportsTouch:window&&(\"ontouchstart\"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:navigator&&navigator.msMaxTouchPoints},R=function(t){var e=t.element;t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(l(e,m.element.rail(\"x\")).forEach(function(t){return r(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(l(e,m.element.rail(\"y\")).forEach(function(t){return r(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=f(t,u(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=u((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=f(t,u(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=u(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),b(e,t),t.scrollbarXActive?e.classList.add(m.state.active(\"x\")):(e.classList.remove(m.state.active(\"x\")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(m.state.active(\"y\")):(e.classList.remove(m.state.active(\"y\")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)},T={\"click-rail\":function(t){t.event.bind(t.scrollbarY,\"mousedown\",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,\"mousedown\",function(e){var i=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=i*t.containerHeight,R(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,\"mousedown\",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,\"mousedown\",function(e){var i=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=i*t.containerWidth,R(t),e.stopPropagation()})},\"drag-thumb\":function(t){g(t,[\"containerWidth\",\"contentWidth\",\"pageX\",\"railXWidth\",\"scrollbarX\",\"scrollbarXWidth\",\"scrollLeft\",\"x\"]),g(t,[\"containerHeight\",\"contentHeight\",\"pageY\",\"railYHeight\",\"scrollbarY\",\"scrollbarYHeight\",\"scrollTop\",\"y\"])},keyboard:function(t){function e(e,n){var r=i.scrollTop;if(0===e){if(!t.scrollbarYActive)return!1;if(0===r&&n>0||r>=t.contentHeight-t.containerHeight&&n<0)return!t.settings.wheelPropagation}var l=i.scrollLeft;if(0===n){if(!t.scrollbarXActive)return!1;if(0===l&&e<0||l>=t.contentWidth-t.containerWidth&&e>0)return!t.settings.wheelPropagation}return!0}var i=t.element,r=function(){return n(i,\":hover\")},l=function(){return n(t.scrollbarX,\":focus\")||n(t.scrollbarY,\":focus\")};t.event.bind(t.ownerDocument,\"keydown\",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(r()||l())){var o=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(o){if(\"IFRAME\"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(d(o))return}var s=0,a=0;switch(n.which){case 37:s=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:a=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:s=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:a=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:a=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:a=t.containerHeight;break;case 34:a=-t.containerHeight;break;case 36:a=t.contentHeight;break;case 35:a=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==s||t.settings.suppressScrollY&&0!==a||(i.scrollTop-=a,i.scrollLeft+=s,R(t),e(s,a)&&n.preventDefault())}})},wheel:function(e){function i(t,i){var n=o.scrollTop;if(0===t){if(!e.scrollbarYActive)return!1;if(0===n&&i>0||n>=e.contentHeight-e.containerHeight&&i<0)return!e.settings.wheelPropagation}var r=o.scrollLeft;if(0===i){if(!e.scrollbarXActive)return!1;if(0===r&&t<0||r>=e.contentWidth-e.containerWidth&&t>0)return!e.settings.wheelPropagation}return!0}function n(t){var e=t.deltaX,i=-1*t.deltaY;return void 0!==e&&void 0!==i||(e=-1*t.wheelDeltaX/6,i=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,i*=10),e!==e&&i!==i&&(e=0,i=t.wheelDelta),t.shiftKey?[-i,-e]:[e,i]}function r(e,i,n){if(!L.isWebKit&&o.querySelector(\"select:focus\"))return!0;if(!o.contains(e))return!1;for(var r=e;r&&r!==o;){if(r.classList.contains(m.element.consuming))return!0;var l=t(r);if([l.overflow,l.overflowX,l.overflowY].join(\"\").match(/(scroll|auto)/)){var s=r.scrollHeight-r.clientHeight;if(s>0&&!(0===r.scrollTop&&n>0||r.scrollTop===s&&n<0))return!0;var a=r.scrollLeft-r.clientWidth;if(a>0&&!(0===r.scrollLeft&&i<0||r.scrollLeft===a&&i>0))return!0}r=r.parentNode}return!1}function l(t){var l=n(t),s=l[0],a=l[1];if(!r(t.target,s,a)){var c=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(a?o.scrollTop-=a*e.settings.wheelSpeed:o.scrollTop+=s*e.settings.wheelSpeed,c=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(s?o.scrollLeft+=s*e.settings.wheelSpeed:o.scrollLeft-=a*e.settings.wheelSpeed,c=!0):(o.scrollTop-=a*e.settings.wheelSpeed,o.scrollLeft+=s*e.settings.wheelSpeed),R(e),(c=c||i(s,a))&&!t.ctrlKey&&(t.stopPropagation(),t.preventDefault())}}var o=e.element;void 0!==window.onwheel?e.event.bind(o,\"wheel\",l):void 0!==window.onmousewheel&&e.event.bind(o,\"mousewheel\",l)},touch:function(t){function e(e,i){var n=h.scrollTop,r=h.scrollLeft,l=Math.abs(e),o=Math.abs(i);if(o>l){if(i<0&&n===t.contentHeight-t.containerHeight||i>0&&0===n)return{stop:!t.settings.swipePropagation,prevent:0===window.scrollY}}else if(l>o&&(e<0&&r===t.contentWidth-t.containerWidth||e>0&&0===r))return{stop:!t.settings.swipePropagation,prevent:!0};return{stop:!0,prevent:!0}}function i(e,i){h.scrollTop-=i,h.scrollLeft-=e,R(t)}function n(){b=!0}function r(){b=!1}function l(t){return t.targetTouches?t.targetTouches[0]:t}function o(t){return!(t.pointerType&&\"pen\"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||\"mouse\"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function s(t){if(o(t)){g=!0;var e=l(t);u.pageX=e.pageX,u.pageY=e.pageY,d=(new Date).getTime(),null!==f&&clearInterval(f),t.stopPropagation()}}function a(n){if(!g&&t.settings.swipePropagation&&s(n),!b&&g&&o(n)){var r=l(n),a={pageX:r.pageX,pageY:r.pageY},c=a.pageX-u.pageX,h=a.pageY-u.pageY;i(c,h),u=a;var f=(new Date).getTime(),v=f-d;v>0&&(p.x=c/v,p.y=h/v,d=f);var m=e(c,h),w=m.stop,Y=m.prevent;w&&n.stopPropagation(),Y&&n.preventDefault()}}function c(){!b&&g&&(g=!1,t.settings.swipeEasing&&(clearInterval(f),f=setInterval(function(){t.isInitialized?clearInterval(f):p.x||p.y?Math.abs(p.x)<.01&&Math.abs(p.y)<.01?clearInterval(f):(i(30*p.x,30*p.y),p.x*=.8,p.y*=.8):clearInterval(f)},10)))}if(L.supportsTouch||L.supportsIePointer){var h=t.element,u={},d=0,p={},f=null,b=!1,g=!1;L.supportsTouch?(t.event.bind(window,\"touchstart\",n),t.event.bind(window,\"touchend\",r),t.event.bind(h,\"touchstart\",s),t.event.bind(h,\"touchmove\",a),t.event.bind(h,\"touchend\",c)):L.supportsIePointer&&(window.PointerEvent?(t.event.bind(window,\"pointerdown\",n),t.event.bind(window,\"pointerup\",r),t.event.bind(h,\"pointerdown\",s),t.event.bind(h,\"pointermove\",a),t.event.bind(h,\"pointerup\",c)):window.MSPointerEvent&&(t.event.bind(window,\"MSPointerDown\",n),t.event.bind(window,\"MSPointerUp\",r),t.event.bind(h,\"MSPointerDown\",s),t.event.bind(h,\"MSPointerMove\",a),t.event.bind(h,\"MSPointerUp\",c)))}}},H=function(n,r){var l=this;if(void 0===r&&(r={}),\"string\"==typeof n&&(n=document.querySelector(n)),!n||!n.nodeName)throw new Error(\"no element is specified to initialize PerfectScrollbar\");this.element=n,n.classList.add(m.main),this.settings={handlers:[\"click-rail\",\"drag-thumb\",\"keyboard\",\"wheel\",\"touch\"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1};for(var o in r)l.settings[o]=r[o];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return n.classList.add(m.state.focus)},a=function(){return n.classList.remove(m.state.focus)};this.isRtl=\"rtl\"===t(n).direction,this.isNegativeScroll=function(){var t=n.scrollLeft,e=null;return n.scrollLeft=-1,e=n.scrollLeft<0,n.scrollLeft=t,e}(),this.negativeScrollAdjustment=this.isNegativeScroll?n.scrollWidth-n.clientWidth:0,this.event=new W,this.ownerDocument=n.ownerDocument||document,this.scrollbarXRail=i(m.element.rail(\"x\")),n.appendChild(this.scrollbarXRail),this.scrollbarX=i(m.element.thumb(\"x\")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute(\"tabindex\",0),this.event.bind(this.scrollbarX,\"focus\",s),this.event.bind(this.scrollbarX,\"blur\",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var c=t(this.scrollbarXRail);this.scrollbarXBottom=parseInt(c.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=u(c.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=u(c.borderLeftWidth)+u(c.borderRightWidth),e(this.scrollbarXRail,{display:\"block\"}),this.railXMarginWidth=u(c.marginLeft)+u(c.marginRight),e(this.scrollbarXRail,{display:\"\"}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=i(m.element.rail(\"y\")),n.appendChild(this.scrollbarYRail),this.scrollbarY=i(m.element.thumb(\"y\")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute(\"tabindex\",0),this.event.bind(this.scrollbarY,\"focus\",s),this.event.bind(this.scrollbarY,\"blur\",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var h=t(this.scrollbarYRail);this.scrollbarYRight=parseInt(h.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=u(h.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?p(this.scrollbarY):null,this.railBorderYWidth=u(h.borderTopWidth)+u(h.borderBottomWidth),e(this.scrollbarYRail,{display:\"block\"}),this.railYMarginHeight=u(h.marginTop)+u(h.marginBottom),e(this.scrollbarYRail,{display:\"\"}),this.railYHeight=null,this.railYRatio=null,this.reach={x:n.scrollLeft<=0?\"start\":n.scrollLeft>=this.contentWidth-this.containerWidth?\"end\":null,y:n.scrollTop<=0?\"start\":n.scrollTop>=this.contentHeight-this.containerHeight?\"end\":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return T[t](l)}),this.lastScrollTop=n.scrollTop,this.lastScrollLeft=n.scrollLeft,this.event.bind(this.element,\"scroll\",function(t){return l.onScroll(t)}),R(this)};return H.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,e(this.scrollbarXRail,{display:\"block\"}),e(this.scrollbarYRail,{display:\"block\"}),this.railXMarginWidth=u(t(this.scrollbarXRail).marginLeft)+u(t(this.scrollbarXRail).marginRight),this.railYMarginHeight=u(t(this.scrollbarYRail).marginTop)+u(t(this.scrollbarYRail).marginBottom),e(this.scrollbarXRail,{display:\"none\"}),e(this.scrollbarYRail,{display:\"none\"}),R(this),y(this,\"top\",0,!1,!0),y(this,\"left\",0,!1,!0),e(this.scrollbarXRail,{display:\"\"}),e(this.scrollbarYRail,{display:\"\"}))},H.prototype.onScroll=function(t){this.isAlive&&(R(this),y(this,\"top\",this.element.scrollTop-this.lastScrollTop),y(this,\"left\",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=this.element.scrollTop,this.lastScrollLeft=this.element.scrollLeft)},H.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),r(this.scrollbarX),r(this.scrollbarY),r(this.scrollbarXRail),r(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},H.prototype.removePsClasses=function(){this.element.className=this.element.className.split(\" \").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(\" \")},H});","import { PieChartCtrl } from './piechart_ctrl';\nimport { loadPluginCss } from 'grafana/app/plugins/sdk';\n\nloadPluginCss({\n  dark: 'plugins/grafana-piechart-panel/styles/dark.css',\n  light: 'plugins/grafana-piechart-panel/styles/light.css',\n});\n\nexport { PieChartCtrl as PanelCtrl };\n","import { MetricsPanelCtrl } from 'grafana/app/plugins/sdk';\nimport _ from 'lodash';\nimport kbn from 'grafana/app/core/utils/kbn';\n// @ts-ignore\nimport TimeSeries from 'grafana/app/core/time_series';\nimport rendering from './rendering';\nimport './legend';\n\nclass PieChartCtrl extends MetricsPanelCtrl {\n  static templateUrl = 'module.html';\n  $rootScope: any;\n  hiddenSeries: any;\n  unitFormats: any;\n  series: any;\n  data: any;\n\n  /** @ngInject */\n  constructor($scope: any, $injector: any, $rootScope: any) {\n    super($scope, $injector);\n    this.$rootScope = $rootScope;\n    this.hiddenSeries = {};\n\n    const panelDefaults = {\n      pieType: 'pie',\n      legend: {\n        show: true, // disable/enable legend\n        values: true,\n      },\n      links: [],\n      datasource: null,\n      maxDataPoints: 3,\n      interval: null,\n      targets: [{}],\n      cacheTimeout: null,\n      nullPointMode: 'connected',\n      legendType: 'Under graph',\n      breakPoint: '50%',\n      aliasColors: {},\n      format: 'short',\n      valueName: 'current',\n      strokeWidth: 1,\n      fontSize: '80%',\n      combine: {\n        threshold: 0.0,\n        label: 'Others',\n      },\n    };\n\n    _.defaults(this.panel, panelDefaults);\n    _.defaults(this.panel.legend, panelDefaults.legend);\n\n    this.events.on('render', this.onRender.bind(this));\n    this.events.on('data-received', this.onDataReceived.bind(this));\n    this.events.on('data-error', this.onDataError.bind(this));\n    this.events.on('data-snapshot-load', this.onDataReceived.bind(this));\n    this.events.on('init-edit-mode', this.onInitEditMode.bind(this));\n\n    this.setLegendWidthForLegacyBrowser();\n  }\n\n  onInitEditMode() {\n    this.addEditorTab('Options', 'public/plugins/grafana-piechart-panel/editor.html', 2);\n    this.unitFormats = kbn.getUnitFormats();\n  }\n\n  setUnitFormat(subItem: any) {\n    this.panel.format = subItem.value;\n    this.render();\n  }\n\n  onDataError() {\n    this.series = [];\n    this.render();\n  }\n\n  changeSeriesColor(series: any, color: any) {\n    series.color = color;\n    this.panel.aliasColors[series.alias] = series.color;\n    this.render();\n  }\n\n  onRender() {\n    this.data = this.parseSeries(this.series);\n  }\n\n  parseSeries(series: any) {\n    return _.map(this.series, (serie, i) => {\n      return {\n        label: serie.alias,\n        data: serie.stats[this.panel.valueName],\n        color: this.panel.aliasColors[serie.alias] || this.$rootScope.colors[i],\n        legendData: serie.stats[this.panel.valueName],\n      };\n    });\n  }\n\n  onDataReceived(dataList: any) {\n    this.series = dataList.map(this.seriesHandler.bind(this));\n    this.data = this.parseSeries(this.series);\n    this.render(this.data);\n  }\n\n  seriesHandler(seriesData: any) {\n    const series = new TimeSeries({\n      datapoints: seriesData.datapoints,\n      alias: seriesData.target,\n    });\n\n    series.flotpairs = series.getFlotPairs(this.panel.nullPointMode);\n    return series;\n  }\n\n  getDecimalsForValue(value: any) {\n    if (_.isNumber(this.panel.decimals)) {\n      return { decimals: this.panel.decimals, scaledDecimals: null };\n    }\n\n    const delta = value / 2;\n    let dec = -Math.floor(Math.log(delta) / Math.LN10);\n\n    const magn = Math.pow(10, -dec);\n    const norm = delta / magn; // norm is between 1.0 and 10.0\n    let size;\n\n    if (norm < 1.5) {\n      size = 1;\n    } else if (norm < 3) {\n      size = 2;\n      // special case for 2.5, requires an extra decimal\n      if (norm > 2.25) {\n        size = 2.5;\n        ++dec;\n      }\n    } else if (norm < 7.5) {\n      size = 5;\n    } else {\n      size = 10;\n    }\n\n    size *= magn;\n\n    // reduce starting decimals if not needed\n    if (Math.floor(value) === value) {\n      dec = 0;\n    }\n\n    const result = {\n      decimals: 0,\n      scaledDecimals: 0,\n    };\n    result.decimals = Math.max(0, dec);\n    result.scaledDecimals = result.decimals - Math.floor(Math.log(size) / Math.LN10) + 2;\n\n    return result;\n  }\n\n  formatValue(value: any) {\n    const decimalInfo = this.getDecimalsForValue(value);\n    const formatFunc = kbn.valueFormats[this.panel.format];\n    if (formatFunc) {\n      return formatFunc(value, decimalInfo.decimals, decimalInfo.scaledDecimals);\n    }\n    return value;\n  }\n\n  link(scope: any, elem: any, attrs: any, ctrl: any) {\n    rendering(scope, elem, attrs, ctrl);\n  }\n\n  toggleSeries(serie: any) {\n    if (this.hiddenSeries[serie.label]) {\n      delete this.hiddenSeries[serie.label];\n    } else {\n      this.hiddenSeries[serie.label] = true;\n    }\n    this.render();\n  }\n\n  onLegendTypeChanged() {\n    this.setLegendWidthForLegacyBrowser();\n    this.render();\n  }\n\n  setLegendWidthForLegacyBrowser() {\n    // @ts-ignore\n    const isIE11 = !!window.MSInputMethodContext && !!document.documentMode;\n    if (isIE11 && this.panel.legendType === 'Right side' && !this.panel.legend.sideWidth) {\n      this.panel.legend.sideWidth = 150;\n    }\n  }\n}\n\nexport { PieChartCtrl, PieChartCtrl as MetricsPanelCtrl };\n","import _ from 'lodash';\nimport './lib/jquery.flot.pie';\nimport $ from 'jquery';\n//import './lib/jquery.flot';\n\nexport default function link(scope: any, elem: any, attrs: any, ctrl: any) {\n  let data;\n  const panel = ctrl.panel;\n  elem = elem.find('.piechart-panel__chart');\n  const $tooltip = $('<div id=\"tooltip\">') as any;\n\n  ctrl.events.on('render', () => {\n    if (panel.legendType === 'Right side') {\n      render(false);\n      setTimeout(() => {\n        render(true);\n      }, 50);\n    } else {\n      render(true);\n    }\n  });\n\n  function getLegendHeight(panelHeight: any) {\n    if (!ctrl.panel.legend.show || ctrl.panel.legendType === 'Right side' || ctrl.panel.legendType === 'On graph') {\n      return 20;\n    }\n\n    if ((ctrl.panel.legendType === 'Under graph' && ctrl.panel.legend.percentage) || ctrl.panel.legend.values) {\n      const breakPoint = parseInt(ctrl.panel.breakPoint, 10) / 100;\n      const total = 23 + 20 * data.length;\n      return Math.min(total, Math.floor(panelHeight * breakPoint));\n    }\n\n    return 0;\n  }\n\n  function formatter(label: any, slice: any) {\n    const sliceData = slice.data[0][slice.data[0].length - 1];\n    let decimal = 2;\n    const start = `<div style=\"font-size:${ctrl.panel.fontSize};text-align:center;padding:2px;\">${label}<br/>`;\n\n    if (ctrl.panel.legend.percentageDecimals) {\n      decimal = ctrl.panel.legend.percentageDecimals;\n    }\n    if (ctrl.panel.legend.values && ctrl.panel.legend.percentage) {\n      return start + ctrl.formatValue(sliceData) + '<br/>' + slice.percent.toFixed(decimal) + '%</div>';\n    } else if (ctrl.panel.legend.values) {\n      return start + ctrl.formatValue(sliceData) + '</div>';\n    } else if (ctrl.panel.legend.percentage) {\n      return start + slice.percent.toFixed(decimal) + '%</div>';\n    } else {\n      return start + '</div>';\n    }\n  }\n\n  function noDataPoints() {\n    const html = '<div class=\"datapoints-warning\"><span class=\"small\">No data points</span></div>';\n    elem.html(html);\n  }\n\n  function addPieChart() {\n    const width = elem.width();\n    const height = ctrl.height - getLegendHeight(ctrl.height);\n\n    const size = Math.min(width, height);\n\n    const plotCanvas = $('<div></div>');\n    const plotCss = {\n      margin: 'auto',\n      position: 'relative',\n      paddingBottom: 20 + 'px',\n      height: size + 'px',\n    };\n\n    plotCanvas.css(plotCss);\n\n    const backgroundColor = $('body').css('background-color');\n\n    const options = {\n      legend: {\n        show: false,\n      },\n      series: {\n        pie: {\n          radius: 1,\n          innerRadius: 0,\n          show: true,\n          stroke: {\n            color: backgroundColor,\n            width: parseFloat(ctrl.panel.strokeWidth).toFixed(1),\n          },\n          label: {\n            show: ctrl.panel.legend.show && ctrl.panel.legendType === 'On graph',\n            formatter: formatter,\n          },\n          highlight: {\n            opacity: 0.0,\n          },\n          combine: {\n            threshold: ctrl.panel.combine.threshold,\n            label: ctrl.panel.combine.label,\n          },\n        },\n      },\n      grid: {\n        hoverable: true,\n        clickable: false,\n      },\n    };\n\n    if (panel.pieType === 'donut') {\n      options.series.pie.innerRadius = 0.5;\n    }\n\n    data = ctrl.data;\n\n    for (let i = 0; i < data.length; i++) {\n      const series = data[i];\n\n      // if hidden remove points\n      if (ctrl.hiddenSeries[series.label]) {\n        series.data = {};\n      }\n    }\n\n    if (panel.legend.sort) {\n      if (ctrl.panel.valueName !== panel.legend.sort) {\n        panel.legend.sort = ctrl.panel.valueName;\n      }\n      if (panel.legend.sortDesc === true) {\n        data.sort((a: any, b: any) => {\n          return b.legendData - a.legendData;\n        });\n      } else {\n        data.sort((a: any, b: any) => {\n          return a.legendData - b.legendData;\n        });\n      }\n    }\n\n    elem.html(plotCanvas);\n\n    // @ts-ignore\n    $.plot(plotCanvas, data, options);\n    plotCanvas.bind('plothover', (event: any, pos: any, item: any) => {\n      if (!item) {\n        $tooltip.detach();\n        return;\n      }\n\n      let body;\n      const percent = parseFloat(item.series.percent).toFixed(2);\n      const formatted = ctrl.formatValue(item.series.data[0][1]);\n\n      body = '<div class=\"piechart-tooltip-small\"><div class=\"piechart-tooltip-time\">';\n      body += '<div class=\"piechart-tooltip-value\">' + _.escape(item.series.label) + ': ' + formatted;\n      body += ' (' + percent + '%)' + '</div>';\n      body += '</div></div>';\n\n      $tooltip.html(body).place_tt(pos.pageX + 20, pos.pageY);\n    });\n  }\n\n  function render(incrementRenderCounter: any) {\n    if (!ctrl.data) {\n      return;\n    }\n\n    data = ctrl.data;\n\n    if (0 === ctrl.data.length) {\n      noDataPoints();\n    } else {\n      addPieChart();\n    }\n\n    if (incrementRenderCounter) {\n      ctrl.renderingCompleted();\n    }\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE_angular__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_core_time_series__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_core_utils_kbn__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_plugins_sdk__;","module.exports = __WEBPACK_EXTERNAL_MODULE_jquery__;","module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;"],"sourceRoot":""}